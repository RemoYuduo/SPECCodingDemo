# 企业内部福利商城 - 后端架构信息

## 目录结构
```
backend/
├── src/
│   ├── controllers/        # 控制器层
│   │   ├── user/           # 用户相关控制器
│   │   ├── admin/          # 管理员相关控制器
│   │   └── auth/           # 认证相关控制器
│   ├── services/           # 业务逻辑层
│   │   ├── user/           # 用户相关服务
│   │   ├── admin/          # 管理员相关服务
│   │   └── auth/           # 认证相关服务
│   ├── models/             # 数据模型层
│   │   ├── User.js         # 用户模型
│   │   ├── Product.js      # 商品模型
│   │   ├── Order.js        # 订单模型
│   │   └── Cart.js         # 购物车模型
│   ├── routes/             # 路由层
│   │   ├── user.js         # 用户路由
│   │   ├── admin.js        # 管理员路由
│   │   └── auth.js         # 认证路由
│   ├── middleware/         # 中间件
│   │   ├── auth.js         # 认证中间件
│   │   ├── validation.js   # 参数验证中间件
│   │   └── error.js        # 错误处理中间件
│   ├── config/             # 配置文件
│   │   ├── database.js     # 数据库配置
│   │   └── app.js          # 应用配置
│   ├── utils/              # 工具函数
│   └── database/           # 数据库初始化
├── package.json
└── server.js               # 服务器入口文件
```

## 模块外部特性

### 认证模块 (auth/)
- 登录接口：验证用户身份，返回JWT令牌
- 验证中间件：验证请求中的JWT令牌
- 权限控制：区分普通用户和管理员权限

### 用户模块 (user/)
- 用户信息接口：获取和更新用户个人资料
- 商品浏览接口：获取商品列表和商品详情
- 购物车接口：添加、删除、更新购物车商品
- 订单接口：创建订单、查看订单列表和订单详情
- 积分接口：获取用户积分和使用记录

### 管理员模块 (admin/)
- 商品管理接口：商品的增删改查
- 商品状态接口：商品上架/下架状态管理
- 库存管理接口：库存更新和库存预警
- 订单管理接口：查看和管理所有用户订单

### 数据模型层 (models/)
- User模型：用户基本信息和积分余额
- Product模型：商品信息、价格、库存和状态
- Order模型：订单信息、商品明细和状态
- Cart模型：购物车商品和数量

### 中间件 (middleware/)
- 认证中间件：验证JWT令牌和用户身份
- 验证中间件：验证请求参数格式和内容
- 错误处理中间件：统一处理请求错误

### 配置模块 (config/)
- 数据库配置：SQLite数据库连接和初始化
- 应用配置：端口、环境变量等应用设置