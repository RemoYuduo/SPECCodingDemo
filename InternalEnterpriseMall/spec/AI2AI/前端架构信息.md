# 企业内部福利商城 - 前端架构信息

|- **版本**: v1.0.0
|- **更新日期**: 2025-12-15
|- **技术栈**: Vue 3 + Vue Router + Pinia + Element Plus + Axios + Vite
|- **状态**: 开发中

## 目录结构

```
frontend/
├── src/                        # 源代码目录
│   ├── api/                    # API接口模块
│   │   ├── index.js            # API接口封装
│   │   ├── admin.js            # 管理员相关接口
│   │   └── product.js          # 商品相关接口
│   ├── components/             # 组件模块
│   │   ├── admin/             # 管理员组件
│   │   │   ├── CategoryManage.vue  # 分类管理组件
│   │   │   ├── ProductForm.vue    # 商品表单组件
│   │   │   └── ProductList.vue    # 商品列表组件
│   │   └── layout/           # 布局组件
│   │       └── AdminLayout.vue # 管理端布局组件
│   ├── router/                 # 路由配置
│   │   └── index.js            # 路由主文件
│   ├── stores/                 # 状态管理
│   │   ├── auth.js             # 认证状态
│   │   └── product.js          # 商品状态
│   ├── views/                  # 页面组件
│   │   ├── HomeView.vue        # 首页
│   │   ├── ConnectivityTest.vue # 连通性测试页面
│   │   ├── admin/              # 管理员页面
│   │   │   ├── DashboardView.vue # 管理首页
│   │   │   ├── OrderManageView.vue # 订单管理页面
│   │   │   ├── ProductManageView.vue # 商品管理页面
│   │   │   ├── SystemSettingsView.vue # 系统设置页面
│   │   │   └── UserManageView.vue # 用户管理页面
│   │   └── auth/               # 认证相关页面
│   │       └── LoginView.vue   # 登录页面
│   │   └── user/               # 用户相关页面
│   │       └── ProfileView.vue # 个人资料页面
│   ├── App.vue                 # 根组件
│   └── main.js                 # 入口文件
├── index.html                  # HTML模板
├── package.json                # 依赖配置
└── vite.config.js              # Vite配置
```

## 模块外部特性

### 1. 认证模块 (auth)
- **LoginView.vue**: 用户登录页面
  - 功能: 用户名/密码登录、快速填充测试账号(user1/password1, user2/password2, user3/password3, admin/admin123)、回车键登录
  - 状态: 已实现基础功能
  - 依赖: auth.js(store), auth.js(api)

### 2. 用户模块 (user)
- **ProfileView.vue**: 个人信息页面
  - 功能: 个人信息查看与编辑(用户ID、用户名、邮箱、手机、积分、角色、注册时间)
  - 状态: 已实现基础功能
  - 依赖: user.js(store), user.js(api)

### 3. 管理员模块 (admin)
- **DashboardView.vue**: 管理首页
  - 功能: 数据概览、快捷入口、系统信息、管理员信息、系统状态检查
  - 状态: 已实现基础功能
  - 依赖: admin.js(api)

- **ProductManageView.vue**: 商品管理页面
  - 功能: 商品列表展示、商品信息录入、商品图片上传、商品库存管理、商品上下架管理、商品编辑功能、商品导入导出、商品分类管理
  - 状态: 已实现
  - 依赖: product.js(store), admin.js(api)

- **OrderManageView.vue**: 订单管理页面
  - 功能: 订单列表查看、订单详情查看、订单状态更新、订单搜索功能、订单统计分析、异常订单处理
  - 状态: 已创建基础页面
  - 依赖: order.js(store), admin.js(api)

- **UserManageView.vue**: 用户管理页面
  - 功能: 用户列表查看、用户详情查看、用户积分管理、用户状态管理、用户搜索功能、用户行为分析
  - 状态: 已创建基础页面
  - 依赖: user.js(store), admin.js(api)

- **SystemSettingsView.vue**: 系统设置页面
  - 功能: 商品类别管理、积分规则配置、系统参数设置、公告管理、系统数据备份、统计报表(销售统计、用户统计、积分统计、订单统计、商品热度统计)
  - 状态: 已创建基础页面
  - 依赖: admin.js(api)

### 4. 管理员组件 (admin)
- **ProductList.vue**: 商品列表组件
  - 功能: 商品列表展示、搜索过滤、商品状态切换、库存调整、商品删除
  - 状态: 已实现
  - 依赖: product.js(store), admin.js(api)
  - 图片处理: 支持多图上传、图片预览、URL格式统一处理
  - 代理配置: 已配置uploads路径代理到后端

- **ProductForm.vue**: 商品表单组件
  - 功能: 商品新增/编辑表单、图片上传、规格设置
  - 状态: 已实现
  - 依赖: product.js(store), admin.js(api)
  - 图片上传: 支持多图片上传、字段名匹配(image字段)
  - 规格处理: 动态添加/删除规格项

- **CategoryManage.vue**: 商品分类管理组件
  - 功能: 商品分类列表展示、分类新增/编辑/删除、分类状态切换
  - 状态: 已实现
  - 依赖: product.js(store), admin.js(api)

### 5. 布局组件 (layout)
- **AdminLayout.vue**: 管理端布局组件
  - 功能: 管理端页面布局、侧边栏导航、顶部导航栏、用户信息展示
  - 状态: 已实现
  - 依赖: auth.js(store), router

### 6. 状态管理 (stores)
- **auth.js**: 认证状态管理
  - 功能: 用户登录状态、用户信息存储、登录/登出操作
  - 状态: 已实现基础功能

- **product.js**: 商品状态管理
  - 功能: 商品列表、商品详情、分类列表、商品操作(新增/编辑/删除/状态切换)
  - 状态: 已实现
  - 依赖: product.js(api), admin.js(api)

### 7. API接口 (api)
- **index.js**: API基础配置
  - 功能: 基于axios的请求封装、请求/响应拦截、错误处理
  - 状态: 已实现基础功能
  - 依赖: axios

- **admin.js**: 管理员相关接口
  - 功能: 商品管理、订单管理、用户管理、系统设置、图片上传
  - 状态: 已实现
  - 依赖: request.js(utils)

- **product.js**: 商品相关接口
  - 功能: 获取商品列表、商品详情、搜索商品、获取分类
  - 状态: 已实现
  - 依赖: request.js(utils)

### 8. 路由配置 (router)
- **index.js**: 路由主文件
  - 功能: 路由定义、路由映射、嵌套路由配置
  - 状态: 已实现基础功能
  - 依赖: Vue Router

### 9. 配置文件 (vite.config.js)
- **vite.config.js**: Vite配置
  - 功能: 开发服务器配置、代理配置、插件配置
  - 状态: 已实现
  - 代理配置: API(/api)和静态文件(/uploads)代理到后端

### 10. 连通性测试模块 (ConnectivityTest.vue) - 已实现
- 服务连通性测试：测试前后端API连接
- 数据库连通性测试：测试数据库连接状态
- 登录功能测试：测试用户和管理员登录
- API接口测试：测试各类API接口连通性
- 测试结果展示：实时展示测试结果和响应数据
- 测试账号填充：提供测试账号快速填充功能

### 11. 图片处理模块
- **fileUpload.js**: 后端图片处理工具
  - 功能: 图片上传、图片压缩、格式转换、URL生成
  - 状态: 已实现
  - 图片URL格式: /uploads/products/xxx.jpg
  - 前端代理配置: 已配置uploads路径代理